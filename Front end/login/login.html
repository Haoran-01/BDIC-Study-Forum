<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CyanPine</title>
    <link href="login.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <header>

    </header>
    <video id="backgroundVideo" autoplay loop muted>
        <source src="images/background_video.mp4" type="video/mp4">
    </video>
    <div class="main">

        <div class="logo">
            <img src="images/logo_full.png" alt="logo">
        </div>

        <!--------signUp区域---------------------------------------------------------------------------------------->
        <div class="signUp", id="signUp">
            <form class="signUpInputArea" novalidate>
                <input class="mail" type="email" required placeholder="Enter e-mail address">
                <div class="letter"></div>
                <input type="text" required oninvalid="setCustomValidity('No')" οninput="setCustomValidity(’’)" placeholder="Enter username">
                <div class="user"></div>
                <input class="password" id = "signUpPass" type="password" required placeholder="Password" onfocus="resetInputColor(signUpPass)">
                <div class="key1"></div>
                <div class="togglePassword" id="signUpToggle1"></div>
                <input class="password" id = "signUpPassRe" type="password" required placeholder="Confirm" onblur="checkPass()" onfocus="resetInputColor(signUpPassRe)">
                <div class="key2"></div>
                <div class="togglePassword" id="signUpToggle2"></div>
                <div id="verificationBox">
                    <input class="identify" type="text" required placeholder="Enter captcha">
                    <button type="button" id="verificationCode" class="verificationCode"></button>
                </div>
                <button type="submit" class = "submit">Sign Up</button>
            </form>
        </div>
        <!--------login区域---------------------------------------------------------------------------------------->
        <div class="login" id = "login">
            <div class="slogan">
                <div>The forum for BDICers to discuss and the</div>
                <div>comprehensive services provider for</div>
                <div>BDICers to collect information</div>
            </div>

            <form class="logInInputArea" novalidate>
                <input class type="text" required oninvalid="setCustomValidity('No')" οninput="setCustomValidity(’’)">
                <div class="user"></div>
                <input class="password" id = "password" type="password" required>
                <div class="key"></div>
                <div class="togglePassword" id="togglePassword"></div>
                <button type="submit" class = "submit">Login</button>
            </form>

            <div id="forgetHr"></div>
            <button id="signUpButton" class="buttonNotObviously" onclick="register()">Sign up</button>
            <button id="forgetPassButton" class="buttonNotObviously" onclick="forgetPass()">Forgot password?</button>
        </div>
        <!--------forgetPassword区域------------------------------------------------------------------------------->
        <div class="forgetPassword", id="forgetPassword">
            <form class="forgetPassInputArea" novalidate>
                <div class="forgetTitle">Find your account</div>
                <div class="forgetWords">Enter your email to continue:</div>
                <input class="mailConfig" type="text" placeholder="Email" required>
                <div class="letter"></div>
                <button type="submit" class = "submit">Next</button>
            </form>
        </div>

    </div>
    <footer>
        <span class="copyright">Copyright@Group 12</span>
    </footer>

    <script>
        var login = document.getElementById("login");
        var signUp = document.getElementById("signUp");
        var forgetPassword =document.getElementById("forgetPassword");

        function register() {
            login.style.left = "450px";
            signUp.style.left = "0px";
        }

        function forgetPass() {
            login.style.left = "-450px";
            forgetPassword.style.left = "0px";
        }

       var button = document.getElementById('verificationCode');
        button.innerHTML = 'get';
       button.onclick = function () {
            button.disabled = 'disabled';
            button.classList.remove('verificationCode');
            button.classList.add('verificationCodeDisabled');
            var time = 60;
            var timer = setInterval(function () {
                if (time === 0) {
                    clearInterval(timer)
                    button.disabled = '';
                    button.innerHTML = 'get';
                    button.classList.remove('verificationCodeDisabled');
                    button.classList.add('verificationCode');
                } else {
                    time--;
                    button.innerHTML = time + 's';
                }
            }, 1000)
        }

        let togglePassword0 = document.getElementById("togglePassword");
        let togglePassword1 = document.getElementById("signUpToggle1");
        let togglePassword2 = document.getElementById("signUpToggle2");
        const togglePasswords = Array(togglePassword0, togglePassword1, togglePassword2);
        let password0 = document.getElementById("password");
        let signUpPass = document.getElementById("signUpPass");
        let signUpPassRe = document.getElementById("signUpPassRe");
        const passwords = Array(password0, signUpPass, signUpPassRe);
        for (var i = 0, len = passwords.length; i < len; i = i + 1){
            let password = passwords[i];
            let togglePassword = togglePasswords[i];
            togglePassword.addEventListener('mousedown', function (e){
                e.preventDefault();
                if (password.type === 'password'){
                    password.setAttribute('type', 'text');
                    togglePassword.style.backgroundImage = 'url("images/eye_close.png")';
                    togglePassword.style.bottom = "100px";
                }else{
                    password.setAttribute('type', 'password');
                    togglePassword.style.backgroundImage = 'url("images/eye_open.png")';
                    togglePassword.style.bottom = "103px";
                }
            })
        }

        function checkPass() {
            if (signUpPass.value !== signUpPassRe.value){
                signUpPass.style.animation = 'rock 1s 0s ease-in-out';
                signUpPassRe.style.animation = 'rock 1s 0s ease-in-out';
                signUpPass.style.borderBottom = '1px solid #ff6d6d';
                signUpPassRe.style.borderBottom = '1px solid #ff6d6d';
                signUpPass.value = '';
                signUpPassRe.value = '';
            }
        }

        function resetInputColor(id){
            id.style = '';
        }

    </script>
</body>
</html>